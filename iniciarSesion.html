<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Iniciar Sesión</title>
  <link rel="stylesheet" href="iniciarSesion.css" />
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
</head>
<body>
  <div class="wrapper">
    <form id="iniciarsesionform">
      <h1>Iniciar Sesión</h1>
      <div class="input-box">
        <input type="text" id="codigo" placeholder="Código de Estudiante" required />
        <i class='bx bxs-user'></i>
      </div>
      <div class="input-box">
        <input type="password" id="contraseña" placeholder="Contraseña" required />
        <i class='bx bxs-lock-alt'></i>
      </div>
      <button id="login-button" type="button" class="btn">Iniciar Sesión</button>
      <div class="register-link">
      <p>¿Eres profesor? <a href="iniciarSesionProfesor.html">Inicia sesión aquí</a></p>
      </div>
    </form>
  </div>

  <!-- Cargar la librería Supabase primero -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const supabaseUrl = 'https://aamvnpvfzmnrrfurovuv.supabase.co';
      const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFhbXZucHZmem1ucnJmdXJvdnV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwNjI2NDUsImV4cCI6MjA2MzYzODY0NX0._OigReH-zPR9AfGE5L9Rw9H71AnxQzH7T5k93mjPj5E';

      window.supabase = supabase.createClient(supabaseUrl, supabaseKey);

      const script = document.createElement('script');
      script.src = 'iniciarSesion.js';
      script.onload = () => console.log("✅ iniciarSesion.js cargado correctamente");
      script.onerror = () => console.error("❌ Error al cargar iniciarSesion.js");
      document.body.appendChild(script);
    });
  </script>
</body>
</html>
